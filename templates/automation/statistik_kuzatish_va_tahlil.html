{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="wrapper bg-gray">
    <div class="container py-4 py-md-6 text-center">
        <div class="row">
            <div class="col-lg-10 col-xxl-8 mx-auto">
                <h1 class="display-1 mb-3">Iqtisodiy maâ€™lumotlarni analitik tahlil qilish va statistik modellashtirish</h1>

        <div class="card-body">
            <h2 class="text-center mb-4">ðŸ“Œ Avtomatlashtirilgan dasturning maqsadi</h2>
            <p>
                Ushbu dastur korxona yoki tijorat subyektlari faoliyatini samarali tahlil qilish, sotuv hajmi, narx va reklama xarajatlari
                oâ€˜rtasidagi bogâ€˜liqlikni aniqlash va iqtisodiy qarorlarni optimallashtirish uchun statistik koâ€˜rsatkichlarni
                avtomatlashtirilgan hisoblash imkonini beradi.
            </p>

            <h3 class="mt-4">ðŸ“Œ Uning vazifalari:</h3>
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>1.</strong> Maâ€™lumotlarni yigâ€˜ish va qayta ishlash â€“ foydalanuvchilar tomonidan iqtisodiy koâ€˜rsatkichlarni kiritish va ular asosida avtomatik hisoblash.</li>
                <li class="list-group-item"><strong>2.</strong> Asosiy statistik koâ€˜rsatkichlarni hisoblash â€“ oâ€˜rtacha qiymat, dispersiya, standart ogâ€˜ish va boshqa iqtisodiy parametrlarga baho berish.</li>
                <li class="list-group-item"><strong>3.</strong> Korrelatsion tahlil â€“ sotuv hajmi, narx va reklama xarajatlari oâ€˜rtasidagi bogâ€˜liqlikni aniqlash.</li>
                <li class="list-group-item"><strong>4.</strong> Vizualizatsiya va maâ€™lumotlarni grafik shaklda taqdim etish â€“ korrelatsion matritsalar va bogâ€˜liqlik diagrammalari orqali natijalarni ifodalash.</li>
                <li class="list-group-item"><strong>5.</strong> Xulosa chiqarish va qaror qabul qilishni qoâ€˜llab-quvvatlash â€“ statistik natijalarga asoslangan iqtisodiy tavsiyalarni ishlab chiqish.</li>
            </ul>

            <h3 class="mt-4">ðŸ“Œ Uning imkoniyatlari:</h3>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">âœ… <strong>Maâ€™lumotlarni avtomatik qayta ishlash</strong> â€“ foydalanuvchi tomonidan kiritilgan iqtisodiy maâ€™lumotlarni avtomatik qayta ishlash va hisoblash.</li>
                <li class="list-group-item">âœ… <strong>Sotuv hajmi, narx va reklama xarajatlari oâ€˜rtasidagi bogâ€˜liqlikni aniqlash</strong> â€“ korrelatsion tahlil orqali ushbu oâ€˜zgaruvchilar orasidagi munosabatni baholash.</li>
                <li class="list-group-item">âœ… <strong>Asosiy statistik koâ€˜rsatkichlarni hisoblash</strong> â€“ arifmetik va geometrik oâ€˜rtacha, minimal, maksimal, standart ogâ€˜ish kabi iqtisodiy parametrlarni aniqlash.</li>
                <li class="list-group-item">âœ… <strong>Korrelatsiya matritsasini generatsiya qilish</strong> â€“ statistik bogâ€˜liqliklarni grafik koâ€˜rinishda ifodalash va maâ€™lumotlarni tahlil qilish.</li>
                <li class="list-group-item">âœ… <strong>Interfaol GUI interfeysi</strong> â€“ foydalanuvchilarga maâ€™lumotlarni qulay shaklda kiritish va natijalarni koâ€˜rish imkoniyatini berish.</li>
                <li class="list-group-item">âœ… <strong>Marketing strategiyasini optimallashtirish</strong> â€“ korxonaning marketing xarajatlari va sotuv hajmi oâ€˜rtasidagi bogâ€˜liqlikni baholab, tahliliy natijalarni ishlab chiqish.</li>
            </ul>
        </div>
            </div>
        </div>
    </div>
</section>

<section class="wrapper bg-light">
    <div class="container p-5">
        <div class="col-12">
            <h3 class="mb-3">Ma'lumotlarni kiriting:</h3>
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="sales" class="form-label">Sotuv hajmini kiriting:</label>
                    <input type="number" id="sales" class="form-control" placeholder="Masalan, 1000">
                </div>
                <div class="col-md-4">
                    <label for="price" class="form-label">Narxni kiriting:</label>
                    <input type="number" id="price" class="form-control" placeholder="Masalan, 50">
                </div>
                <div class="col-md-4">
                    <label for="advertising" class="form-label">Reklama xarajatlari:</label>
                    <input type="number" id="advertising" class="form-control" placeholder="Masalan, 500">
                </div>
            </div>

            <button class="btn btn-primary" onclick="addData()">Ma'lumot qo'shish</button>
            <button class="btn btn-success" onclick="analyzeData()">Tahlil qilish</button>

            <div id="analysisResult" class="mt-4 alert alert-info d-none"></div>
        </div>
    </div>
</section>
{% endblock content %}

{% block scripts %}
<script>
    let data = [];

    function addData() {
        let sales = parseFloat(document.getElementById("sales").value);
        let price = parseFloat(document.getElementById("price").value);
        let advertising = parseFloat(document.getElementById("advertising").value);

        if (isNaN(sales) || isNaN(price) || isNaN(advertising)) {
            alert("Iltimos, barcha maydonlarni to'g'ri to'ldiring!");
            return;
        }

        data.push({ sales, price, advertising });
        alert("Ma'lumot muvaffaqiyatli qo'shildi!");
        document.getElementById("sales").value = "";
        document.getElementById("price").value = "";
        document.getElementById("advertising").value = "";
    }

    function analyzeData() {
        if (data.length === 0) {
            alert("Tahlil qilish uchun kamida bitta ma'lumot kiritilishi kerak!");
            return;
        }

        let totalSales = data.reduce((sum, item) => sum + item.sales, 0) / data.length;
        let totalPrice = data.reduce((sum, item) => sum + item.price, 0) / data.length;
        let totalAdvertising = data.reduce((sum, item) => sum + item.advertising, 0) / data.length;

        let resultText = `
            <strong>O'rtacha qiymatlar:</strong><br>
            - Sotuv hajmi: ${totalSales.toFixed(2)}<br>
            - Narx: ${totalPrice.toFixed(2)}<br>
            - Reklama xarajatlari: ${totalAdvertising.toFixed(2)}<br>
        `;

        let analysisResult = document.getElementById("analysisResult");
        analysisResult.innerHTML = resultText;
        analysisResult.classList.remove("d-none");
    }
</script>
{% endblock scripts %}
